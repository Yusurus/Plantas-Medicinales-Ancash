<link rel="stylesheet" href="../../static/css/GestionPlanta/registro_archivaciones.css">
<main class="flex-grow p-6">
  <div class="plantas-medicinales-module">
    <div id="pmPlantasMedicinalesApp">
      <div class="pm-search-section mb-4">
  <div class="pm-search-container">
    <input type="text" id="archiveSearchInput" class="pm-search-input" placeholder="Buscar plantas por nombre cientifico, nombre comun, o familia..." autocomplete="off">
    <span class="pm-search-icon">🔍</span>
  </div>
</div>

      <div id="archivaciones-content-wrapper" class="flex flex-col lg:flex-row gap-6">
        <!-- Plantas activas -->
        <div class="flex-1 pm-plants-section">
          <div class="pm-plants-header mb-2">
            <h3 class="pm-plants-title text-green-700">Plantas Activas</h3>
            <span id="active-plants-count" class="pm-plants-count bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm">0 plantas</span>
          </div>
          <div id="active-plants-container" class="pm-plants-grid"></div>
        </div>

        <!-- Detalles / Archivaciones -->
        <div class="flex-1 pm-plants-section">
          <div class="pm-plants-header mb-2">
            <h3 class="pm-plants-title text-green-700">Archivaciones</h3>
          </div>
          <div id="selected-plant-details-container" class="p-4 rounded-lg bg-white border border-gray-200 shadow-inner min-h-[300px]">
            <p id="placeholder-message" class="text-gray-500 text-center py-10">
              Seleccione una planta activa para ver sus detalles y opciones de archivación.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<!-- Modal 1: Confirmación + motivo -->
<div id="confirmation-modal" class="fixed inset-0 flex items-center justify-center hidden pm-modal-overlay">
  <div class="pm-modal-content p-6 flex flex-col items-center text-center">
    <h4 class="pm-modal-title mb-4" id="first-modal-title">Confirmar Archivación</h4>
    <p class="text-gray-700 mb-4">¿Estás seguro de que deseas archivar <span id="item-name-to-archive" class="font-semibold"></span>?</p>
    <div class="pm-form-group w-full">
      <label class="pm-form-label" for="archive-reason">Motivo de Archivación:</label>
      <textarea class="pm-form-textarea" id="archive-reason" placeholder="Escribe el motivo..." rows="3"></textarea>
    </div>
    <div class="flex space-x-4 mt-4">
      <button id="cancel-archive" class="pm-btn pm-btn-cancel">Cancelar</button>
      <button id="confirm-archive" class="pm-btn pm-btn-save">Continuar</button>
    </div>
  </div>
</div>

<!-- Modal 2: Confirmación final -->
<div id="second-confirmation-modal" class="fixed inset-0 flex items-center justify-center hidden pm-modal-overlay">
  <div class="pm-modal-content p-6 flex flex-col items-center text-center">
    <h4 class="pm-modal-title mb-4">Confirmación Final</h4>
    <p class="text-gray-700 mb-6">¿Estás absolutamente seguro de archivar este elemento?</p>
    <div class="flex space-x-4">
      <button id="cancel-final-archive" class="pm-btn pm-btn-cancel">Cancelar</button>
      <button id="confirm-final-archive" class="pm-btn pm-btn-save">Sí, Archivar</button>
    </div>
  </div>
</div>

<!-- Modal 3: Confirmación especial para plantas -->
<div id="third-confirmation-modal" class="fixed inset-0 flex items-center justify-center hidden pm-modal-overlay">
  <div class="pm-modal-content p-6 flex flex-col items-center text-center">
    <h4 class="pm-modal-title mb-4">Confirmar Archivación de Planta</h4>
    <p class="text-gray-700 mb-4">Escribe esta frase exactamente:</p>
    <p class="text-red-600 font-bold text-lg mb-4" id="required-confirmation-text"></p>
    <div class="pm-form-group w-full">
      <input type="text" class="pm-form-input" id="third-confirmation-input" placeholder="Escribe la frase aquí...">
      <p id="third-confirmation-error" class="text-red-500 text-sm mt-2 hidden">Texto incorrecto</p>
    </div>
    <div class="flex space-x-4 mt-4">
      <button id="cancel-third-archive" class="pm-btn pm-btn-cancel">Cancelar</button>
      <button id="confirm-third-archive" class="pm-btn pm-btn-save">Confirmar</button>
    </div>
  </div>
</div>

<script src="../../static/js/gestion plantas/registro_archivaciones.js"></script>
